(this.webpackJsonpgestion_compte_reactjs=this.webpackJsonpgestion_compte_reactjs||[]).push([[0],{21:function(e,t,c){},24:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},46:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c(2),a=c.n(s),i=c(26),r=c.n(i),o=(c(34),c(13)),j=c(14),l=c(11),d=c(16),m=c(15),u=(c(24),c(21),c(35),function(e){var t,c=e.onClick;return Object(n.jsxs)("div",{className:"quickView col-md-6 mb-4",onClick:c,children:[Object(n.jsx)("h4",{children:e.customer.name}),Object(n.jsx)("div",{className:"row text-center",children:Object(n.jsxs)("div",{className:"col-12",children:[(t=e.customer,t.facture+t.paiement),",00 \u20ac"]})})]})}),b=c(3);var h=function(e){var t=e.customers,c=Object(b.f)();return Object(n.jsx)("div",{className:"container-fluid",children:void 0!==t&&Object(n.jsx)("div",{children:t.map((function(e,t){return Object(n.jsx)(u,{customer:e,onClick:function(){return function(e){c.push("/customers/"+e.name)}(e)}},t)}))})})},O=c(5),x=function(){return Object(n.jsx)("div",{children:Object(n.jsx)("h3",{children:"404 page not found"})})},p=c(18),f=function(e){Object(d.a)(c,e);var t=Object(m.a)(c);function c(e){var n;return Object(o.a)(this,c),(n=t.call(this,e)).changeHandler=function(e){n.setState(Object(p.a)({},e.target.name,e.target.value))},n.submitHandler=function(e){e.preventDefault();var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n.state)};fetch("http://gestion-compte.codaid.com/api/customers",t).then((function(e){alert(e),n.setState({name:"",email:""}),n.props.updateAfterAddCustomer()}))},n.state={name:"",email:""},n}return Object(j.a)(c,[{key:"render",value:function(){var e=this.state,t=e.name,c=e.email;return Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("form",{onSubmit:this.submitHandler,className:"mt-4",children:Object(n.jsxs)("div",{className:"input-group align-items-end",children:[Object(n.jsxs)("div",{className:"col-6 pe1",children:[Object(n.jsx)("label",{htmlFor:"name",className:"form-label ms-5 me-2",children:"Nom : "}),Object(n.jsx)("input",{type:"text",name:"name",className:"form-control",value:t,onChange:this.changeHandler})]}),Object(n.jsxs)("div",{className:"col-6 pe1",children:[Object(n.jsx)("label",{htmlFor:"email",className:"form-label ms-5 me-2",children:"e-mail : "}),Object(n.jsx)("input",{type:"email",name:"email",className:"form-control",value:c,onChange:this.changeHandler})]}),Object(n.jsx)("button",{type:"submit",className:"btn btn-success mx-auto mt-3",children:"Ajouter"})]})})})}}]),c}(s.Component);c(41);var v=function(e){return Object(n.jsx)("div",{className:"title",children:Object(n.jsx)("h2",{children:e.title})})},N=(c(42),function(e){var t=e.customers,c=e.updateCustomers;console.log("updateCustomers : "),console.log(c);return Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)(v,{title:"Clients"}),Object(n.jsx)("div",{className:"table-responsive",children:Object(n.jsxs)("table",{className:"table",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Nom"}),Object(n.jsx)("th",{children:"Facture"}),Object(n.jsx)("th",{children:"Paiement"}),Object(n.jsx)("th",{children:"Balance"}),Object(n.jsx)("th",{})]})}),""!==t&&Object(n.jsx)("tbody",{children:t.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsxs)(O.b,{className:"nav-link",to:"/customers/".concat(e.name),children:[" ",e.name," "]})}),Object(n.jsx)("td",{children:Object(n.jsxs)(O.b,{className:"nav-link",to:"/customers/".concat(e.name),children:[" ",e.facture," "]})}),Object(n.jsx)("td",{children:Object(n.jsxs)(O.b,{className:"nav-link",to:"/customers/".concat(e.name),children:[" ",e.paiement," "]})}),Object(n.jsx)("td",{children:Object(n.jsxs)(O.b,{className:"nav-link",to:"/customers/".concat(e.name),children:[" ",e.facture+e.paiement,",00 \u20ac "]})}),Object(n.jsx)("td",{children:Object(n.jsx)("button",{onClick:function(){return function(e){var t={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name})};fetch("http://gestion-compte.codaid.com/api/customers",t).then((function(){alert("'"+e.name+"' \xe0 \xe9t\xe9 effac\xe9 avec succ\xe9s !"),c()}))}(e)},className:"btn btn-danger",children:"Effacer"})})]},t)}))})]})}),Object(n.jsx)("h3",{className:"container ms-5 mt-5",children:"Ajouter un client"}),Object(n.jsx)("div",{children:Object(n.jsx)(f,{updateAfterAddCustomer:function(){c()}})})]})}),g=c(10),C=c(9),y=function(e){Object(d.a)(c,e);var t=Object(m.a)(c);function c(e){var n;return Object(o.a)(this,c),(n=t.call(this,e)).componentDidMount=function(){fetch("http://gestion-compte.codaid.com/api/customers").then((function(e){return e.json()})).then((function(e){return n.customers=e}))},n.changeHandler=function(e){"date"===e.target.name?n.setState((function(){return{date:e.target.value.toLocaleString()}})):n.setState((function(){return Object(p.a)({},e.target.name,e.target.value)}))},n.submitHandler=function(e){e.preventDefault();var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n.state)};fetch("http://gestion-compte.codaid.com/api/transactions",t).then((function(){n.setState({date:"",customer:"",designation:"",amout:0}),n.props.updateState()}))},n.state={date:"",customer:"",designation:"",amount:0},n.customers=[],n.changeHandler=n.changeHandler.bind(Object(l.a)(n)),n.submitHandler=n.submitHandler.bind(Object(l.a)(n)),n}return Object(j.a)(c,[{key:"render",value:function(){var e=this.state,t=e.date,c=e.customer,s=e.designation,a=e.amount;return Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("form",{onSubmit:this.submitHandler,className:"my-5",children:Object(n.jsxs)("div",{className:"input-group align-items-end col-sm-12",children:[Object(n.jsxs)("div",{className:"col-6 pe-1",children:[Object(n.jsx)("label",{htmlFor:"date",className:"form-label mx-3",children:"Date : "}),Object(n.jsx)("input",{type:"date",name:"date",className:"form-control",value:t,onChange:this.changeHandler,min:"2019-01-01",max:"2021-12-31"})]}),Object(n.jsxs)("div",{className:"col-6 ps-1",children:[Object(n.jsx)("label",{htmlFor:"customer",className:"form-label mx-3",children:"Client : "}),void 0!==this.props.customer&&Object(n.jsx)("input",{type:"text",className:"form-control",name:"customer",value:this.props.customer,disabled:!0}),void 0===this.props.customer&&Object(n.jsxs)("select",{className:"form-select",name:"customer",value:c,onChange:this.changeHandler,children:[Object(n.jsx)("option",{value:""}),this.customers.map((function(e,t){return Object(n.jsx)("option",{value:e.id,children:e.name},t)}))]})]}),Object(n.jsxs)("div",{className:"col-6 mt-3 pe-1",children:[Object(n.jsx)("label",{htmlFor:"designation",className:"form-label mx-3",children:"Designation : "}),Object(n.jsx)("input",{type:"text",name:"designation",className:"form-control",value:s,onChange:this.changeHandler})]}),Object(n.jsxs)("div",{className:"col-6 ps-1",children:[Object(n.jsx)("label",{htmlFor:"amount",className:"form-label mx-3",children:"Montant : "}),Object(n.jsx)("input",{type:"number",name:"amount",className:"form-control",value:a,onChange:this.changeHandler})]}),Object(n.jsx)("div",{className:"mx-auto mt-3",children:Object(n.jsx)("button",{type:"submit",className:"btn btn-success px-5",children:"Ajouter"})})]})})})}}]),c}(s.Component),S=function(e){var t=e.updateCustomers,c=Object(s.useState)([]),a=Object(g.a)(c,2),i=a[0],r=a[1],o=Object(s.useState)(0),j=Object(g.a)(o,2),l=j[0],d=j[1],m=Object(s.useState)(!1),u=Object(g.a)(m,2),b=u[0],h=u[1];Object(s.useEffect)((function(){fetch("http://gestion-compte.codaid.com/api/transactions").then((function(e){return e.json()})).then((function(e){return r(e)}))}),[l]);var O=function(e){var t=e.split("-");return t[2]+"/"+t[1]};return Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)(v,{title:"Transactions"}),Object(n.jsx)(y,{updateState:function(){d(l+1),t()}.bind(undefined)}),Object(n.jsx)("div",{className:"text-right",children:Object(n.jsxs)("button",{className:"btn btn-secondary",onClick:function(){h(!b)},children:[" ",Object(n.jsx)(C.f,{})," "]})}),Object(n.jsx)("div",{className:"table-responsive",children:Object(n.jsxs)("table",{className:"table table-striped align-middle",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Date"}),Object(n.jsx)("th",{children:"Client"}),Object(n.jsx)("th",{children:"designation"}),Object(n.jsx)("th",{children:"Montant"})]})}),void 0!==i&&Object(n.jsx)("tbody",{children:i.map((function(e,c){return Object(n.jsxs)("tr",{children:[Object(n.jsxs)("td",{children:[" ",O(e.date)," "]}),Object(n.jsxs)("td",{children:[" ",e.name," "]}),Object(n.jsxs)("td",{children:[" ",e.designation," "]}),Object(n.jsxs)("td",{children:[" ",e.amount," \u20ac "]}),b&&Object(n.jsx)("td",{children:Object(n.jsx)("button",{onClick:function(){return function(e){var c={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id})};fetch("http://gestion-compte.codaid.com/api/transactions",c).then((function(){d(l+1),t()}))}(e)},className:"btn btn-danger",children:Object(n.jsx)(C.d,{})})})]},c)}))})]})})]})},k=(c(43),function(){var e=Object(b.g)().name,t=Object(s.useState)(0),c=Object(g.a)(t,2),a=c[0],i=(c[1],Object(s.useState)("")),r=Object(g.a)(i,2),o=r[0],j=r[1],l=Object(s.useState)([]),d=Object(g.a)(l,2),m=d[0],u=d[1],h=Object(s.useState)(""),O=Object(g.a)(h,2),x=O[0],p=O[1];Object(s.useEffect)((function(){fetch("http://gestion-compte.codaid.com/api"+"/customers/".concat(e)).then((function(e){return e.json()})).then((function(e){j(e[0]),f(e[0]),fetch("http://gestion-compte.codaid.com/api"+"/transactions/".concat(e[0].id)).then((function(e){return e.json()})).then((function(e){u(e)}))}))}),[e,a]);var f=function(e){var t=e.facture+e.paiement;console.log(t),p(t<0?"negative":"positive")};return Object(n.jsxs)("div",{children:[void 0!==o&&Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"customerTitle",children:o?o.name:Object(n.jsx)("p",{children:"Chargement..."})}),Object(n.jsxs)("h3",{className:"balance ".concat(x),children:["Balance : ",o.facture+o.paiement,",00 \u20ac"]})]}),void 0===o&&Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{children:e})," n'est pas un client connu"]}),void 0!==m&&Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("table",{className:"table table-hover",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Date"}),Object(n.jsx)("th",{children:"designation"}),Object(n.jsx)("th",{children:"Montant"}),Object(n.jsx)("th",{})]})}),Object(n.jsx)("tbody",{children:m.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsxs)("td",{children:[" ",e.date," "]}),Object(n.jsxs)("td",{children:[" ",e.designation," "]}),Object(n.jsxs)("td",{children:[" ",e.amount,",00 \u20ac "]}),Object(n.jsx)("td",{children:Object(n.jsx)("button",{className:"btn btn-danger",children:"Effacer"})})]},t)}))})]})}),Object(n.jsx)(y,{customer:e})]})}),H=c(28);var _=function(){return Object(n.jsxs)("nav",{className:"nav d-flex justify-content-around",children:[Object(n.jsxs)(O.c,{to:"/home-mobile",activeClassName:"current",className:"nav_link text-center",children:[" ",Object(n.jsx)(H.a,{size:25})," ",Object(n.jsx)("br",{})," ",Object(n.jsx)("span",{className:"nav_text",children:"Mobile"})," "]}),Object(n.jsxs)(O.c,{to:"/customers",exact:!0,activeClassName:"current",className:"nav_link text-center",children:[Object(n.jsx)(C.g,{size:25})," ",Object(n.jsx)("br",{})," ",Object(n.jsx)("span",{className:"nav_text",children:" Clients"})]}),Object(n.jsxs)(O.c,{to:"/transactions",exact:!0,activeClassName:"current",className:"nav_link text-center",children:[Object(n.jsx)(C.e,{size:25})," ",Object(n.jsx)("br",{})," ",Object(n.jsx)("span",{className:"nav_text",children:" Transaction"})]}),Object(n.jsxs)(O.c,{to:"/",exact:!0,activeClassName:"current",className:"nav_link text-center",children:[Object(n.jsx)(C.c,{size:25})," ",Object(n.jsx)("br",{})," ",Object(n.jsx)("span",{className:"nav_text",children:" Accueil"})," "]})]})},w=(c(44),function(e){var t=e.customers,c=Object(b.f)(),s=function(e){return e.facture+e.paiement};return Object(n.jsxs)("div",{children:[Object(n.jsxs)("header",{className:"header-HomeMobile",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"Bienvenue"}),Object(n.jsx)("h1",{children:"Geffrey SAID"})]}),Object(n.jsx)("div",{className:"profilImg"})]}),Object(n.jsx)("div",{className:"cardCustomers",children:void 0!==t&&Object(n.jsx)("div",{className:"card-list",children:t.map((function(e){return Object(n.jsxs)("div",{className:"customer-card",onClick:function(){return function(e){c.push("/customers/"+e.name)}(e)},children:[Object(n.jsxs)("h4",{children:[e.name," ",Object(n.jsx)("span",{children:"VISA"})]}),Object(n.jsxs)("p",{children:[s(e),",00 \u20ac"]})]})}))})}),Object(n.jsx)("div",{className:"transaction-mobile",children:Object(n.jsxs)("div",{className:"recap",children:[Object(n.jsxs)("div",{className:"recap-card",children:[Object(n.jsxs)("p",{className:"recap-arrow recap-arrow-up",children:[" ",Object(n.jsx)(C.b,{size:25})," "]}),Object(n.jsxs)("p",{children:[" Factures ",Object(n.jsx)("br",{})," ",Object(n.jsx)("span",{children:"1000,00 \u20ac"})," "]})]}),Object(n.jsxs)("div",{className:"recap-card",children:[Object(n.jsxs)("p",{className:"recap-arrow recap-arrow-down",children:[" ",Object(n.jsx)(C.a,{size:25})," "]}),Object(n.jsxs)("p",{children:[" Paiements ",Object(n.jsx)("br",{})," ",Object(n.jsx)("span",{children:"1000,00 \u20ac"})," "]})]})]})})]})}),A=function(e){Object(d.a)(c,e);var t=Object(m.a)(c);function c(e){var n;Object(o.a)(this,c);return(n=t.call(this,e)).updateCustomers=function(){fetch("http://gestion-compte.codaid.com/api/customers").then((function(e){return e.json()})).then((function(e){n.setState({customers:e})}))},n.state={customers:[]},n.updateCustomers=n.updateCustomers.bind(Object(l.a)(n)),n}return Object(j.a)(c,[{key:"componentDidMount",value:function(){var e=this;fetch("http://gestion-compte.codaid.com/api/customers").then((function(e){return e.json()})).then((function(t){e.setState({customers:t})})),this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"App container-fluid",children:Object(n.jsxs)(O.a,{children:[Object(n.jsx)("div",{className:"bottomMenu",children:Object(n.jsx)(_,{})}),Object(n.jsx)("div",{className:"mainContent",children:Object(n.jsxs)(b.c,{children:[Object(n.jsx)(b.a,{path:"/",exact:!0,component:function(){return Object(n.jsx)(h,{customers:e.state.customers})}}),Object(n.jsx)(b.a,{path:"/customers/:name",component:k}),Object(n.jsx)(b.a,{path:"/customers",component:function(){return Object(n.jsx)(N,{customers:e.state.customers,updateCustomers:e.updateCustomers})}}),Object(n.jsx)(b.a,{path:"/transactions",component:function(){return Object(n.jsx)(S,{updateCustomers:e.updateCustomers})}}),Object(n.jsx)(b.a,{path:"/home-mobile",component:function(){return Object(n.jsx)(w,{customers:e.state.customers})}}),Object(n.jsx)(b.a,{path:"*",component:x})]})})]})})}}]),c}(s.Component);var D=function(){return Object(n.jsx)(A,{})};c(45);r.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(D,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.6f1ff5af.chunk.js.map